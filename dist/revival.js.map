{"version":3,"file":"revival.js","sourceRoot":"./src/","sources":["revival.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nrequire = (() => {}) as any;\r\nimport \"../typings/pixi\";\r\n\r\n_.functions = Object.create(null);\r\n\r\n_.functions.escapeBattle = () => {\r\n\tconst currentState = _.instance.game.state.current;\r\n\tif (currentState === \"PVP\") Object.fromEntries(_.instance.game.state.states).PVP.endPVP();\r\n\telse if (currentState === \"CoOp\") _.instance.prodigy.world.$(_.player.data.zone);\r\n\telse _.instance.game.state.callbackContext.runAwayCallback();\r\n};\r\n_.hackMainframe = () => {\r\n\tconst parent = document.querySelector(\"canvas\")?.parentElement;\r\n\tdocument.querySelector(\"canvas\")?.remove();\r\n\tconst canvas = document.createElement(\"canvas\");\r\n\tparent.prepend(canvas)\r\n\tconst ctx = canvas.getContext(\"2d\");\r\n\tconst letters = \"0123456789ABCDEF\".split(\"\");\r\n\tcanvas.width = innerWidth\r\n\tcanvas.height = innerHeight\r\n\r\n\tconst fontSize = 10;\r\n\tconst columns = canvas.width / fontSize;\r\n\tconst drops = [];\r\n\tfor (let i = 0; i < columns; i++) drops[i] = 1;\r\n\tsetInterval(() => {\r\n\t\tctx.fillStyle = \"rgba(0, 0, 0, .1)\";\r\n\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\tfor (let i = 0; i < drops.length; i++) {\r\n\t\t\tconst text = letters[Math.floor(Math.random() * letters.length)];\r\n\t\t\tctx.fillStyle = \"#0f0\";\r\n\t\t\tctx.fillText(text, i * fontSize, drops[i] * fontSize);\r\n\t\t\tdrops[i]++;\r\n\t\t\tif (drops[i] * fontSize > canvas.height && Math.random() > 0.95) {\r\n\t\t\t\tdrops[i] = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}, 33)\r\n};\r\n\r\n_.functions.customChat = (text: string) => {\r\n\tconst dialogue = _.instance.prodigy.dialogue.create();\r\n\tdialogue.setText(10);\r\n\tconst key = \"noot\";\r\n\tdialogue.eventQueue[0].dialogueData = dialogue.dataProvider.getLegacy(\r\n\t\tkey,\r\n\t\tdialogue.eventQueue[0].legacyData.index\r\n\t);\r\n\tdialogue.eventQueue[0] = Object.assign(\r\n\t\t{\r\n\t\t\ttype: undefined,\r\n\t\t\twindowPosition: undefined,\r\n\t\t\tblockInput: !undefined,\r\n\t\t},\r\n\t\tdialogue.eventQueue[0]\r\n\t);\r\n\tdialogue.eventQueue[0] = (window as any)._.pickBy(dialogue.eventQueue[0], x => x !== undefined);\r\n\tdialogue.closeDialogue(false);\r\n\tdialogue.onClose = () => {};\r\n\t_.instance.prodigy.notifications.setPaused(true);\r\n\tconst next = () => {\r\n\t\tdialogue.current = dialogue.eventQueue.splice(0, dialogue.skipCounter + 1)[dialogue.skipCounter];\r\n\t\tdialogue.skipCounter = 0;\r\n\t\tif (Object.keys(dialogue.current ?? {}).length > 0) {\r\n\t\t\tconst item = [dialogue.current.dialogueData.avatar.atlas];\r\n\t\t\tif (dialogue.currentDialogue?.game) {\r\n\t\t\t\tdialogue.currentDialogue.updateSchema(dialogue.current, item);\r\n\t\t\t} else {\r\n\t\t\t\tdialogue.currentDialogue = _.instance.prodigy.open.characterDialogue(\r\n\t\t\t\t\tdialogue.current,\r\n\t\t\t\t\tnext.bind(dialogue),\r\n\t\t\t\t\titem\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tnext();\r\n};\r\n\r\nObject.defineProperty(_, \"gameData\", { get: () => _.instance.game.state.states.get('Boot')._gameData });\r\nObject.defineProperty(_, \"localizer\", {\r\n\tget: () => _.instance.prodigy.gameContainer.get(\"LocalizationService\"),\r\n});\r\nObject.defineProperty(_, \"network\", {\r\n\tget: () => _.player.game.input.onDown._bindings[0].context,\r\n});\r\nObject.defineProperty(_, \"hack\", {\r\n\tget: () => _,\r\n});"]}